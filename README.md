# Сборщик шаблонов для InSales

## Установка

```
npm i
```

## Настройка

Настройка сборщика находится тут `/gulpfile.js/config`

Для работы [InSales uploader](https://github.com/VladimirIvanin/insales-uploader) нужно изменить файл `/gulpfile.js/config/uploader.json`, заполнить параметры для доступа к магазину и выставить свойство `use` в `true`.


## Gulp tasks

`gulp theme:deploy` и `gulp theme:watch` нужно запускать в отдельных терминалах или поочередно,

чтобы отправка изменений на сервер не началась до того как соберется шаблон в папку `theme`.

| Имя задачи   | Назначение                                       |
|--------------|--------------------------------------------------|
| default      | Собирает тему и запускает отслеживание изменений |
| theme:deploy | Собирает тему                                    |
| theme:watch  | Отслеживание изменений в компонентах, лэйаутах и запускает InSales uploader   |
| uploader:push| Загрузить локальную тему в тему магазина, при этом тема в магазине будет полностью перезаписана |

## Назначение директорий

| Имя директории | Назначение                                    |
|----------------|-----------------------------------------------|
| components     | Компоненеты которые будут включаться в шаблон |
| config         | Конфиги для темы                              |
| gulpfile.js    | Задачи для gulp.js                            |
| layouts        | Лэйауты для шаблона                           |
| media          | Медиа файлы для шаблона                       |
| plugins        | Js/css плагины                                |
| theme          | Директория темы                               |
| bundles        | Бандлы (css/js)                               |
| fonts          | Шрифты                                        |

### Структура компонента

Каждый компонент лежит в отдельной папке внутри дериктории components.
>**стили**

> Стили хранятся в папке css, сборщик понимает .css и .scss файлы.


>**скрипты** 

>JS файлы лежат в корневой папке компонента


>**сниппеты**

>Liquid файлы лежат в корневой папке компонента
